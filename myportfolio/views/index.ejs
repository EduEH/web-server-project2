<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My portfolio</title>
    <style>
      header {
        background-color: rgba(129, 53, 221, 0.3);
        color: white; 
        padding: 20px; 
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); 
      }

      .about {
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.8); 
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
        margin-top: 20px;
        margin-bottom: 20px; 
      }

      body {  
        font-family: Arial, sans-serif;
        background-image: url('https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0');
        
      }
      .container {
        width: 80%;
        margin: 0 auto;
      }
      .projects {
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.8); 
        border-radius: 10px; 
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .projects h2 {
        font-size: 24px;
        margin-bottom: 20px;
        color: #333;
      }

      .projects div {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .projects div:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .projects p {
        margin: 0;
        font-size: 18px;
        color: #8135dd;
      }

      #calendar-container {
        display: flex;
        justify-content: center;
        padding: 20px;
      }

      #calendar-component {
        padding: 20px;
        border-radius: 10px;
      }

      #login-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }

      #login-button {
        display: inline-block;
        background-color: #7200b4;
        color: white; 
        padding: 10px 20px; 
        border-radius: 5px; 
        font-size: 16px; 
        font-weight: bold; 
        text-align: center;
        cursor: pointer;
      }

      #comment-section {
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.7); 
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); 
        margin-top: 20px; 
        margin-bottom: 20px;
      }

      #user-comment {
        width: 100%;
        height: 70px; 
        padding: 15px;
        border-radius: 10px;
        border: 2px solid #8135dd; 
        font-size: 16px; 
        color: #eee8e8; 
        background-color: #413f3f;
        box-sizing: border-box;
        resize: none;
      }

      #post-button {
        background-color: #7200b4; 
        color: white; 
        padding: 10px 20px; 
        border-radius: 5px;
        cursor: pointer;
        margin-top: 5px; 
        font-size: 16px;
        font-weight: bold; 
      }
      
      #comments-container {
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
        margin-bottom: 20px;
      }

      #not-logged {
        color: red;
        display: none;
      }

      .comment {
        padding: 15px;
        background-color: #f9f9f9; 
        border-radius: 10px; 
        margin-bottom: 10px;
        font-size: 16px;
        color: black;
      }
    </style>

    <script type="module" defer src="https://cdn.jsdelivr.net/gh/imananoosheh/github-contributions-fetch@latest/github_calendar_widget.js"></script>
  
  </head>
  
  <body>
    <header>
      <h1>Welcome to my website</h1>
    </header>

    <div class="container">

      <section class="about">
        <h2>About Me</h2>
        <p>
          Hello! My name is Eduardo Eriyo Hirai, and currently I'm a Computer Information Technology student at the British Columbia Institute of Technology.
          I am an IT professional with previous experience in the health industry, and is continuously improving database, teamwork, 
          and communication skills and is eager to apply them in a practical work environment to further develop them.
        </p>
      </section>

      <section class="projects">
        <h2>Here are some of the projects I have worked on</h2>
        <div>
          <h3>Subtracker Billing App</h3>
          <p>
            Allows users to register their bills and subscriptions and track how much money is being spent on them, the 
            due dates for the payments, and which ones were paid or not. Developed along with 5 students using Agile Scrum methodology over the course of one month.
          </p>
          <p>Technologies: SQL, Python, Flask, Unit Tests, HTML, CSS, JavaScript, Git, CI/CD</p>
        </div>
        <div>
          <h3>Grocery Store App</h3>
          <p>
            Application and API to track product stock and customer data, list orders, and process orders. Features error handling and management of PUT, POST, GET, and DELETE requests.
          </p>
          <p>Technologies: SQL,SQLAlchemy, Python, Flask, HTML, CSS, JavaScript.</p>
        </div>
        <div>
          <h3>Note Taking App</h3>
          <p>
            Allows users to write notes, delete and edit them, and set up a banner image. Features a login system with an admin account that can revoke sessions.
          </p>
          <p>Technologies: Node.js, JavaScript, HTML, CSS, Git.</p>
        </div>
      </section>

    </div>

    
    <div id="calendar-container">
      <div id="calendar-component" username="EduEH"></div>
    </div>


    <div id="login-container">
      <a href="/auth/google" id="login-button">Sign in with Google</a>
    </div>

    <div id="comment-section">
      <span id="greeting" style="display: none;"></span>
      <h2>Write a comment</h2>
      <textarea id="user-comment" placeholder="Write your comment here..." disabled></textarea>

      <button id="post-button" disabled>Post the comment</button>
      <div id="not-logged">You must be logged in to comment.</div>
    </div>

    <div id="comments-container">
        <h2>Comments:</h2>
        <div id="user-comments"></div>
    </div>

    <script>
      function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
      }

      const userData = getUrlParameter('user');
      const user = userData ? JSON.parse(userData) : null;
      
      function updateUI() {
        if (user) {
          document.getElementById('login-button').style.display = 'none';
          document.getElementById('greeting').innerText = `Hello, ${user.displayName}!`;
          document.getElementById('greeting').style.display = 'inline';
          document.getElementById('user-comment').disabled = false;
          document.getElementById('post-button').disabled = false;
          document.getElementById('not-logged').style.display = 'none';
          } else {
              document.getElementById('user-comment').disabled = true;
              document.getElementById('post-button').disabled = true;
              document.getElementById('not-logged').style.display = 'block';
          }
      }

      updateUI();

      document.getElementById('post-button').addEventListener('click', function() {
        const comment = document.getElementById('user-comment').value;
        if (comment) {
            const new_comment = document.createElement('div');
            new_comment.className = 'comment'; 
            new_comment.textContent = comment;

            document.getElementById('comments-container').appendChild(new_comment);

            document.getElementById('user-comment').value = '';
        } else {
            alert('Write a comment first.');
        }
    });
    </script>
  </body>

</html>